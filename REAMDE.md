# Registration API Test

## Описание

Тестовый проект для демонстрации навыков ручного и автоматизированного тестирования REST API регистрации пользователя.

**В рамках тестового задания реализовано:**
- Чек-лист ручного тестирования (файл `manual_test_checklist.pdf`)
- Интеграционные автотесты на PHP (PHPUnit) для API `/register`
- Примеры обнаруженных ошибок и выводов тестов

## Состав проекта

- `manual_test_checklist.pdf` — чек-лист сценариев ручного тестирования формы регистрации (валидные/невалидные данные, граничные случаи, найденные ошибки)
- `tests/Api/RegistrationApiTest.php` — автотесты для проверки работы REST API регистрации, покрывающие:
    - Позитивный сценарий (успешная регистрация)
    - Валидацию email
    - Проверку длины пароля
    - Повторную регистрацию
    - Длинные значения в полях
    - Прочие негативные сценарии

## Структура и описание автотестов

В файле `RegistrationApiTest.php` реализованы следующие проверки:

- **testPingApiIsAlive** — проверка доступности сервера.  
  GET-запрос на `/register`, убеждаемся, что сервер не лежит (ожидаются статусы 200/201/400/404/405).

- **testRegisterUserWithValidData** — успешная регистрация.  
  POST-запрос с валидными уникальными данными, ожидается успешная регистрация и наличие поля `login_link` в ответе.

- **testRegisterUserWithInvalidEmail** — невалидный email.  
  POST-запрос с некорректным email, ожидается ошибка (статус 400) и описание причины.

- **testRegisterUserWithShortPassword** — короткий пароль.  
  POST-запрос с паролем короче 6 символов, ожидается ошибка (статус 400).

- **testRegisterWithoutAuth** — отсутствие авторизации.  
  POST-запрос без авторизации, ожидается ошибка (статус 401 или 400).

- **testRegisterWithoutEmail** — отсутствие email.  
  POST-запрос без поля email, ожидается ошибка (статус 400).

- **testRegisterWithExistingEmail** — попытка регистрации с уже существующим email.  
  Сначала отправляется регистрация с новым email, затем повтор с тем же email. Ожидается ошибка (статус 400) во втором случае.

- **testRegisterWithLongValues** — слишком длинные значения в полях.  
  POST-запрос с длиной полей >255 символов, ожидается ошибка (статус 400 или выше).



## Как запустить автотесты

> Требования: PHP 8.1+, Composer, зависимости установлены (`composer install`), интернет-доступ.

В терминале из корня проекта:

```bash
vendor/bin/phpunit tests/Api/RegistrationApiTest.php




